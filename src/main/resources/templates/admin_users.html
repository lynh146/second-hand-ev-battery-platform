<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org"
      th:replace="admin/layout :: content">
<body>
<div>
    <header class="page-header">
        <h1 th:text="${pageTitle} ?: 'Quản lý người dùng'">Quản lý người dùng</h1>
        <p class="text-muted">Danh sách toàn bộ tài khoản trong hệ thống.</p>
    </header>

    <!-- Flash message sau khi update -->
    <div th:if="${message}" class="alert alert-success mt-3" th:text="${message}"></div>

    <section class="panel" style="margin-top: 16px;">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h2 class="panel-title">Danh sách người dùng</h2>
            <form class="d-flex gap-2" method="get">
                <input type="text" name="q" class="form-control form-control-sm"
                       placeholder="Tìm theo tên hoặc email" th:value="${param.q}">
                <button class="btn btn-sm btn-primary" type="submit">Tìm</button>
            </form>
        </div>

        <div class="table-responsive">
            <table class="table table-hover align-middle mb-0">
                <thead>
                <tr>
                    <th>#</th>
                    <th>ID</th>
                    <th>Họ tên</th>
                    <th>Email</th>
                    <th>Vai trò</th>
                    <th>SĐT</th>
                    <th class="text-end">Hành động</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="user, stat : ${users}">
                    <td th:text="${stat.count}">1</td>
                    <!-- đổi userID, fullName, phoneNumber, role cho khớp entity của bạn -->
                    <td th:text="${user.userID}">1</td>
                    <td th:text="${user.fullName}">Họ tên</td>
                    <td th:text="${user.email}">email@example.com</td>
                    <td th:text="${user.role}">MEMBER</td>
                    <td th:text="${user.phoneNumber}">0123456789</td>
                    <td class="text-end">
                        <a th:href="@{'/admin/users/edit/' + ${user.userID}}"
                           class="btn btn-sm btn-outline-primary">
                            Sửa
                        </a>
                    </td>
                </tr>

                <tr th:if="${#lists.isEmpty(users)}">
                    <td colspan="7" class="text-center text-muted py-4">
                        Chưa có người dùng nào.
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>
</div>
</body>
</html>
