<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">

<head th:replace="fragments/header :: head('EVMarket - Mua b√°n xe & pin EV', 'index.css', 'index.js')"></head>

<body>
<div th:replace="fragments/header :: header"></div>

<!-- HERO -->
<section class="hero-section">
    <div class="container py-5">
        <div class="row align-items-center gy-4">
            <div class="col-lg-6">
                <span class="badge-soft mb-3 d-inline-flex align-items-center gap-2">
                    ‚ö° N·ªÅn t·∫£ng giao d·ªãch xe & pin EV
                </span>
                <h1 class="hero-title mb-3">
                    T√¨m chi·∫øc xe ƒëi·ªán<br/>ho·∫∑c pin ph√π h·ª£p cho b·∫°n
                </h1>
                <p class="hero-subtitle mb-4">
                    Kh√°m ph√° th·ªã tr∆∞·ªùng EV c≈© v·ªõi h√†ng ch·ª•c tin ƒëƒÉng ƒë∆∞·ª£c ki·ªÉm duy·ªát,
                    thanh to√°n an to√†n, giao d·ªãch minh b·∫°ch.
                </p>

                <form class="hero-search d-flex gap-2"
                      th:action="@{/search}" method="get">
                    <input type="text" class="form-control hero-search-input"
                           name="keyword" placeholder="T√¨m theo t√™n xe, pin, h√£ng..."
                           aria-label="T·ª´ kh√≥a t√¨m ki·∫øm">
                    <button class="btn btn-ev-primary" type="submit">
                        T√¨m ngay
                    </button>
                </form>

                <div class="hero-stats mt-4 d-flex flex-wrap gap-4">
                    <div>
                        <div class="hero-stat-number" th:text="${#lists.size(featuredListings)}">24</div>
                        <div class="hero-stat-label">Tin n·ªïi b·∫≠t</div>
                    </div>
                    <div>
                        <div class="hero-stat-number">4.9‚òÖ</div>
                        <div class="hero-stat-label">M·ª©c ƒë·ªô h√†i l√≤ng</div>
                    </div>
                    <div>
                        <div class="hero-stat-number">100%</div>
                        <div class="hero-stat-label">Thanh to√°n an to√†n</div>
                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="hero-visual ev-card p-3">
                    <!-- ·∫£nh demo / placeholder -->
                    <div class="hero-visual-banner rounded-4 mb-3"></div>
                    <div class="d-flex justify-content-between small text-muted px-2">
                        <span>Xe & Pin EV ƒë√£ ki·ªÉm duy·ªát</span>
                        <span>üöò + üîã</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FEATURED LISTINGS -->
<section class="featured-section py-4">
    <div class="container">
        <div class="d-flex justify-content-between align-items-end mb-3">
            <div>
                <h2 class="section-title mb-0">Tin ƒëƒÉng n·ªïi b·∫≠t</h2>
                <p class="section-subtitle mb-0">
                    Nh·ªØng xe & pin ƒë∆∞·ª£c duy·ªát v√† c√≥ ƒë√°nh gi√° t·ªët.
                </p>
            </div>
            <a href="/search" class="btn btn-sm btn-outline-primary rounded-pill">
                Xem t·∫•t c·∫£
            </a>
        </div>

        <div class="row g-4">
            <div class="col-12" th:if="${#lists.isEmpty(featuredListings)}">
                <div class="ev-card p-4 text-center text-muted">
                    Ch∆∞a c√≥ tin n·ªïi b·∫≠t. H√£y quay l·∫°i sau nh√©.
                </div>
            </div>

            <div class="col-md-6 col-lg-4"
                 th:each="listing : ${featuredListings}">
                <a class="text-decoration-none text-reset"
                   th:href="@{/listings/{id}(id=${listing.listingID})}">
                    <div class="ev-card featured-card h-100">
                        <div class="featured-thumb"></div>
                        <div class="p-3">
                            <div class="d-flex justify-content-between mb-1">
                                <h5 class="featured-title mb-0"
                                    th:text="${listing.title}">Tesla Model 3 ‚Äì Pin 75kWh</h5>
                                <span class="badge-soft"
                                      th:text="${listing.status}">PUBLIC</span>
                            </div>

                            <p class="featured-desc mb-2 text-truncate-2"
                               th:text="${listing.description}">
                                M√¥ t·∫£ ng·∫Øn c·ªßa tin ƒëƒÉng, t·ª± ƒë·ªông c·∫Øt d√≤ng sau 2 d√≤ng...
                            </p>

                            <div class="d-flex justify-content-between align-items-center">
                                <div class="price"
                                     th:text="${#numbers.formatDecimal(listing.price,0,'COMMA',0,'POINT')} + ' ƒë'">
                                    500.000.000 ƒë
                                </div>
                                <div class="small text-muted">
                                    <i class="bi bi-clock"></i>
                                    <span th:text="${#temporals.format(listing.createdAt,'dd/MM/yyyy')}">
                                        10/11/2025
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>

        </div>
    </div>
</section>

<div th:replace="fragments/footer :: footer"></div>
</body>
</html>
